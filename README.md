# DustySeeder

百度网盘秒传种子（[标准格式](https://jixun.uk/posts/2017/du-code-gen/)）生成器。原本是2022年8月啃完Rust之后写的百行小项目，当时被摆脱读秀机器人的想法困扰。读秀书库几百T的庞大体积，人工很难在层层叠叠的文件夹中找到要找的书，所以一般只能用奸商提供的机器人查询。由于方便索引，觉𠊚度盘秒传这个东西有可玩的潜力，当时对这个东西很感兴趣，想着是否可以通过索引这上百T的书库一举「摧毁」奸商产业，把度盘当作OSS用。现成的项目（[DuCode](https://github.com/jixunmoe/mfcDuDownloadCodeGenerator/)）记得有文件处理数量上限的问题，TLMC这样大的巨物就已经力不从心了，之后别人用火山开发平台写了一个GUI的，我又写了一个CLI。他用的是C++，我用Rust，是因为处理这么多文件对性能要求很高，也是因为可以调包，而且Cargo很省心，做了不少事情，无论是对Git的支持还是目录结构。

目前只支持单个文件，不限大小，可在不同平台上编译。大约只是原型，在专业人士看来应该是不算太复杂的小程序，而且到现在，我也看不太懂源码了。很想整个GUI，但是虽然对用户很友好，开发起来门槛却很高，跨平台性也不好。

## [原理](https://jixun.uk/posts/2017/du-code-gen/)：
一行一个，每一行的数据如下：

`<完整 MD5> # <片段 MD5> # <文件长度> # <文件名>`

| 字段 | 说明 |
| ---- | ---- |
| 完整 MD5 | 文件的整体 MD5 校验数据。|
| 片段 MD5 | 文件前 256KiB 的 MD5 校验数据。|
| 文件长度 | 文件的字节长度，纯数字。|
| 文件名 | 导入的文件名称。|

## 编译：
1. 在对应的平台上安装[Rustup](https://rustup.rs/)。
2. 在文件夹中运行`cargo build`，可执行文件会在`target/debug`目录中生成。（乐，好像现在编译不过了）

## 用法：
`执行文件 <待处理文件>`

可配合对应平台下的批处理脚本实现更多功能，比如批量处理一个文件夹下的所有文件，输出到文本文件。可搭配油猴脚本[秒传链接提取](https://greasyfork.org/zh-CN/scripts/424574-%E7%A7%92%E4%BC%A0%E9%93%BE%E6%8E%A5%E6%8F%90%E5%8F%96)食用。